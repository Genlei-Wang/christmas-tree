请为一个名为"Christmas Tree"的沉浸式Web应用程序编写一个单文件HTML代码(包含HTML,CSS,JavaScript)。该应用需要使用Three.js和MediaPipe Hands实现手势交互的3D粒子圣诞树。

## 视觉风格与界面(UI/UX):
- 背景 (Canvas)：黑曜石色 (Obsidian, #050505) 混合极低透明度的深海蓝 (#0B1026)，营造一种深夜雪原的深邃感。

- 字体:标题使用Google Fonts的Great Vibes(手写体)和Cinzel(衬线体)。
- 页面顶部中央显示"MerryChristmas",字体为淡粉色(#ffdaeo),带有柔和的暖白光晕,营造浪漫氛围。

布局:

- 全屏3D画布:覆盖整个视口。
- 左下角摄像头:200px宽,4:3比例,带有半透明背景和粉色边框,显示用户摄像头画面(镜像)
- 右侧手势侧边栏:半透明深色卡片,列出三种手势说明(握拳:聚合圣诞树;张开:散开悬浮;捏合:放大照片),当前激活的手势需要高亮显示。
- 底部控制栏:居中排列两个按钮。
    - 左侧:圆角长条形"上传回忆"按钮(图标+文字),点击触发文件上传。
    - 右侧:圆形音乐控制按钮(仅图标),点击切换播放/暂停,图标随状态改变(音符/
静音)。
- 加载页:带有旋转Spinner和"LoadingAl Magic..."文字的黑色遮罩层,加载完成后淡出。

## 3D场景与粒子系统(Three.js):

核心粒子:
- 主圣诞树:由香槟金 (Champagne Gold, #F7E7CE)和月光银 (Moonlight Silver, #E0E0E0)的发光球体粒子组成,呈圆锥螺旋状排列。
- 粉色幻影树:另一层使用InstancedMesh创建的粒子树，少量的柔和琥珀色 (Soft Amber)，模拟烛光。使用项点颜色渐变(上亮下暗),增强层次感。
- 雪花系统:白色粒子模拟真实物理飘落(重力下落+风力左右摆动),循环播放。


## 光效(Post-Processing):

使用EffectComposer和UnrealBloomPass实现辉光效果。
关键设置:设置较高的辉光阈值(Threshold=1.0)和强度。
材质区分:粒子材质使用MeshStandardMaterial并设置高emissivelntensity(3.0),使其发光; 照片材质使用MeshBasicMaterial并设置颜色为纯白(Oxffffff),确保照片亮度不超过阈值,从而保持照片清晰、无辉光。

## 3.交互逻辑(MediaPipeHands):
- 手势识别:
    - 握拳(Fist)/无手势:粒子聚合成标准的圆锥形圣诞树。照片缩小为树上的挂饰。当未检测到手时,系统需自动回退到此状态。
    - 张开手掌(OpenHand):粒子和照片散开,随机悬浮在空中。
    - 捏合(Pinch-拇指与食指):触发"聚焦模式"。
- 捏合聚焦逻辑(核心):
    - 当检测到捏合时,自动计算并选中离屏幕中心最近的照片。
    - 磁吸效果:选中的照片迅速移动到屏幕正中央。
    - 绝对居中:计算位置时基于摄像机的目标视线,确保照片与J预部文字、底部按钮处于同一中轴线。
    - 正视图锁定:强制照片在聚焦时lookAt摄像机位置,确保照片;绝对平行于屏幕,无透视变形。
    - 尺寸:放大后的照片大小约为屏幕高度的70%,留有舒适边距。

## 音频系统(WebAudioAPI):
不要使用外部MP3文件,使用JavaScript的AudioContext编写一个ChristmasSynth类。
旋律:使用正弦波或三角波合成《Snowman》的旋律。
自动播放策略:
- 页面加载时尝试自动播放。
- 如果浏览器拦截,则监听用户的首次点击(任意位置)来解锁音频上下文并开始播放。
- 音乐按钮必须能实时控制合成器的开启与停止。

## 技术栈与库:
HTML5, CSS3, ES6 JavaScript (Module).
Three.js (CDN 3|入: https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js).
MediaPipe Tasks Vision (CDN引入).
代码结构需为单个HTML文件,CSS和JS内嵌。